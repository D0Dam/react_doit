{"ast":null,"code":"import React from 'react';\nimport PropTypes from 'prop-types';\nexport const DEFAULT_KEY = 'defaultLoadingKey';\nexport const contextPropTypes = {\n  loading: PropTypes.bool,\n  setLoading: PropTypes.func\n};\nexport default ((contextKey = DEFAULT_KEY) => {\n  class LoadingProvider extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        loading: false\n      };\n      this.setLoading = this.setLoading.bind(this);\n    }\n\n    getChildContext() {\n      return {\n        [contextKey]: {\n          loading: this.state.loading,\n          setLoading: this.setLoading\n        }\n      };\n    }\n\n    setLoading(loading) {\n      this.setState({\n        loading\n      });\n    }\n\n    render() {\n      return this.props.children;\n    }\n\n  }\n\n  LoadingProvider.childContextTypes = {\n    [contextKey]: contextPropTypes\n  };\n  return LoadingProvider;\n});","map":{"version":3,"sources":["/workspace/react_doit/src/r06/LoadingProviderWithKey.jsx"],"names":["React","PropTypes","DEFAULT_KEY","contextPropTypes","loading","bool","setLoading","func","contextKey","LoadingProvider","Component","constructor","props","state","bind","getChildContext","setState","render","children","childContextTypes"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,OAAO,MAAMC,WAAW,GAAG,mBAApB;AACP,OAAO,MAAMC,gBAAgB,GAAG;AAC9BC,EAAAA,OAAO,EAAEH,SAAS,CAACI,IADW;AAE9BC,EAAAA,UAAU,EAAEL,SAAS,CAACM;AAFQ,CAAzB;AAKP,gBAAe,CAACC,UAAU,GAAGN,WAAd,KAA8B;AAC3C,QAAMO,eAAN,SAA8BT,KAAK,CAACU,SAApC,CAA8C;AAC5CC,IAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,YAAMA,KAAN;AAEA,WAAKC,KAAL,GAAa;AAAET,QAAAA,OAAO,EAAE;AAAX,OAAb;AACA,WAAKE,UAAL,GAAkB,KAAKA,UAAL,CAAgBQ,IAAhB,CAAqB,IAArB,CAAlB;AACD;;AAEDC,IAAAA,eAAe,GAAG;AAChB,aAAO;AACL,SAACP,UAAD,GAAc;AACZJ,UAAAA,OAAO,EAAE,KAAKS,KAAL,CAAWT,OADR;AAEZE,UAAAA,UAAU,EAAE,KAAKA;AAFL;AADT,OAAP;AAMD;;AAEDA,IAAAA,UAAU,CAACF,OAAD,EAAU;AAClB,WAAKY,QAAL,CAAc;AAAEZ,QAAAA;AAAF,OAAd;AACD;;AAEDa,IAAAA,MAAM,GAAG;AACP,aAAO,KAAKL,KAAL,CAAWM,QAAlB;AACD;;AAvB2C;;AA0B9CT,EAAAA,eAAe,CAACU,iBAAhB,GAAoC;AAClC,KAACX,UAAD,GAAcL;AADoB,GAApC;AAIA,SAAOM,eAAP;AACD,CAhCD","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport const DEFAULT_KEY = 'defaultLoadingKey';\nexport const contextPropTypes = {\n  loading: PropTypes.bool,\n  setLoading: PropTypes.func,\n};\n\nexport default (contextKey = DEFAULT_KEY) => {\n  class LoadingProvider extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.state = { loading: false };\n      this.setLoading = this.setLoading.bind(this);\n    }\n\n    getChildContext() {\n      return {\n        [contextKey]: {\n          loading: this.state.loading,\n          setLoading: this.setLoading,\n        },\n      };\n    }\n\n    setLoading(loading) {\n      this.setState({ loading });\n    }\n\n    render() {\n      return this.props.children;\n    }\n  }\n\n  LoadingProvider.childContextTypes = {\n    [contextKey]: contextPropTypes,\n  };\n\n  return LoadingProvider;\n};"]},"metadata":{},"sourceType":"module"}